{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\".search-input\");\n\nconst myGallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  close: true,\n  enableKeyboard: true,\n  docClose: true,\n});\n\n\n\nform.addEventListener(\"submit\", checkEmptyInput);\n\n// перевірка інпуту\n\nfunction checkEmptyInput(e) {\n    e.preventDefault();\n   showLoader(true);\n    const inputValue = input.value;\n    if (!inputValue) {\n       errorMess('Value cannot be empty')\n    } else {\n        getImg(inputValue)\n            .then(data => {showLoader(false);\n                if (data.hits.length === 0) {\n                errorMess(\"Sorry, there are no images matching your search query. Please try again!\");\n                } else {\n                    const images = data.hits;\n                    createGallery(images);\n                    \n                    myGallery.refresh()\n                }\n            }).catch(error => {\n                errorMess(\"Something wrong=(\")\n                showLoader(false);\n            })\n    }\n};\n\nconst errorMess = (messege) => {\n     iziToast.error({\n    title: 'Error',\n    message: messege,\n    backgroundColor: '#EF4040',\n    messageColor: '#FFFFFF',\n    maxWidth: 300,\n    timeout: 2000,\n    progressBar: false,\n    position: 'topRight',\n    transitionIn: 'bounceInRight',\n    transitionOut: 'fadeOutLeft',\n    messageSize: 12,\n})\n}\n\n// запрос\n\nfunction getImg(inputValue) {\n    const api = \"https://pixabay.com/api/\";\n    const API_KEY = \"43042666-e07e8410a021eff335b7f491d\";\n    const searchParams = {\n        key: API_KEY,\n        q: inputValue,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    };\n    const params = new URLSearchParams(searchParams);\n    const url = `${api}?${params}`;\nreturn fetch(url).then(res => res.json());\n    }\n    \n// рендер на сторінку\n    \n\nfunction createGallery(images) {\n    const list = document.querySelector(\".gallery\");\n    list.innerHTML = images.map(image => {\n        return `<li class=\"list-item\"><a href=\"${image.largeImageURL}\">\n        <img class=\"item-img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"></a>\n        <div class=\"container\">\n        <h3 class=\"title\">Likes</h3>\n      <p>${image.likes}</p></div >\n      <div class=\"container\">\n        <h3 class=\"title\">Views</h3>\n      <p>${image.views}</p></div >\n      <div class=\"container\">\n        <h3 class=\"title\">Comments</h3>\n      <p>${image.comments}</p></div >\n      <div class=\"container\">\n        <h3 class=\"title\">Downloads</h3>\n      <p class=\"info\">${image.downloads}</p></div >\n        </li>`\n    }).join(\"\");\n}\n\nconst showLoader = (state) => {\n  const loader = document.querySelector('.loader');\n  loader.style.display = state ? 'block' : 'none';\n};\n"],"names":["form","input","myGallery","SimpleLightbox","checkEmptyInput","e","showLoader","inputValue","getImg","data","errorMess","images","createGallery","error","messege","iziToast","api","searchParams","params","url","res","list","image","state","loader"],"mappings":"6vBAWA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,eAAe,EAE9CC,EAAY,IAAIC,EAAe,aAAc,CACjD,aAAc,MACd,aAAc,IACd,MAAO,GACP,eAAgB,GAChB,SAAU,EACZ,CAAC,EAIDH,EAAK,iBAAiB,SAAUI,CAAe,EAI/C,SAASA,EAAgBC,EAAG,CACxBA,EAAE,eAAc,EACjBC,EAAW,EAAI,EACd,MAAMC,EAAaN,EAAM,MACpBM,EAGDC,EAAOD,CAAU,EACZ,KAAKE,GAAQ,CACV,GADWH,EAAW,EAAK,EACvBG,EAAK,KAAK,SAAW,EACzBC,EAAU,0EAA0E,MAC7E,CACH,MAAMC,EAASF,EAAK,KACpBG,EAAcD,CAAM,EAEpBT,EAAU,QAAS,CACtB,CACjB,CAAa,EAAE,MAAMW,GAAS,CACdH,EAAU,mBAAmB,EAC7BJ,EAAW,EAAK,CAChC,CAAa,EAfNI,EAAU,uBAAuB,CAiBxC,CAEA,MAAMA,EAAaI,GAAY,CAC1BC,EAAS,MAAM,CAChB,MAAO,QACP,QAASD,EACT,gBAAiB,UACjB,aAAc,UACd,SAAU,IACV,QAAS,IACT,YAAa,GACb,SAAU,WACV,aAAc,gBACd,cAAe,cACf,YAAa,EACjB,CAAC,CACD,EAIA,SAASN,EAAOD,EAAY,CACxB,MAAMS,EAAM,2BAENC,EAAe,CACjB,IAFY,qCAGZ,EAAGV,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EACUW,EAAS,IAAI,gBAAgBD,CAAY,EACzCE,EAAM,GAAGH,CAAG,IAAIE,CAAM,GAChC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CACnC,CAKL,SAASR,EAAcD,EAAQ,CAC3B,MAAMU,EAAO,SAAS,cAAc,UAAU,EAC9CA,EAAK,UAAYV,EAAO,IAAIW,GACjB,kCAAkCA,EAAM,aAAa;AAAA,qCAC/BA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,WAGhEA,EAAM,KAAK;AAAA;AAAA;AAAA,WAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,WAGXA,EAAM,QAAQ;AAAA;AAAA;AAAA,wBAGDA,EAAM,SAAS;AAAA,cAElC,EAAE,KAAK,EAAE,CACd,CAEA,MAAMhB,EAAciB,GAAU,CAC5B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAUD,EAAQ,QAAU,MAC3C"}